# 3.1.3 Návrh bezkontextové gramatiky pro zadaný jazyk

Při návrhu gramatiky často využíváme rozklad složitějšího jazyka na jednodušší části pomocí operací sjednocení, zřetězení nebo iterace.

<a id="algo-navrh-gramatiky"></a>
!!! Algorithm "Jak postupujeme při návrhu gramatiky pro zadaný jazyk?"

    ### Postup návrhu {#algo-navrh-gramatiky}

    *   **Promysleme si, jak vypadají řetězce z jazyka:** Jak vypadá nejkratší řetězec z jazyka? Nezapomeňme na $\varepsilon$. Musí se nějaký symbol vyskytovat povinně ve všech řetězcích?
    *   **Lze jazyk rozdělit na sjednocení jednodušších jazyků?** Udělejme to. Pro spojení gramatik poté využijeme standardní algoritmus (viz níže).
    *   Pokud je to vhodné, přidáme jednotlivým neterminálům **sémantický význam**.
    *   **Nezávislé části řetězců z jazyka generujeme odděleně** pomocí různých neterminálních symbolů. Předejdeme tím nechtěnému pomíchání symbolů v generovaných řetězcích.

<a id="algo-sjednoceni-bg"></a>
!!! Algorithm "Sjednocení bezkontextových gramatik"

    ### Konstrukce sjednocení {#algo-sjednoceni-bg}

    Máme dvě bezkontextové gramatiky $G_1 = (N_1, \Sigma_1, P_1, S_1)$ a $G_2 = (N_2, \Sigma_2, P_2, S_2)$. Gramatiku $G = (N, \Sigma, P, S)$ generující sjednocení jazyků $L(G_1) \cup L(G_2)$ vytvoříme následovně:

    1.  **$N = N_1 \cup N_2 \cup \{S\}$**
        *   Za předpokladu, že $N_1 \cap N_2 = \emptyset$ a zároveň $S \notin (N_1 \cup N_2)$, sjednotíme množiny neterminálů a přidáme nový počáteční neterminál $S$.
        *   Pokud $N_1 \cap N_2 \neq \emptyset$, pak například neterminály z množiny $N_1$ přejmenujeme tak, aby byly různé od neterminálů množiny $N_2$.
    2.  **$\Sigma = \Sigma_1 \cup \Sigma_2$**
    3.  **$P = P_1 \cup P_2 \cup \{S \to S_1 \mid S_2\}$**

<a id="algo-soucin-bg"></a>
!!! Algorithm "Součin (zřetězení) bezkontextových gramatik"

    ### Konstrukce součinu {#algo-soucin-bg}

    Máme dvě bezkontextové gramatiky $G_1 = (N_1, \Sigma_1, P_1, S_1)$ a $G_2 = (N_2, \Sigma_2, P_2, S_2)$. Gramatiku $G = (N, \Sigma, P, S)$ generující součin jazyků $L(G_1) \cdot L(G_2)$ vytvoříme následovně:

    1.  **$N = N_1 \cup N_2 \cup \{S\}$**
        *   Za předpokladu, že $N_1 \cap N_2 = \emptyset$, sjednotíme množiny neterminálů. Pokud tato rovnost neplatí, postupujeme obdobně jako v případě sjednocení (využijeme přejmenování).
    2.  **$\Sigma = \Sigma_1 \cup \Sigma_2$**
    3.  **$P = P_1 \cup P_2 \cup \{S \to S_1 S_2\}$**

<a id="algo-iterace-bg"></a>
!!! Algorithm "Iterace bezkontextové gramatiky"

    ### Konstrukce iterace {#algo-iterace-bg}

    Máme bezkontextovou gramatiku $G_1 = (N_1, \Sigma_1, P_1, S_1)$. Gramatiku $G = (N, \Sigma, P, S)$ generující iteraci jazyka $L(G_1)^*$ vytvoříme následovně:

    1.  **$N = N_1 \cup \{S\}$**
        *   Za předpokladu, že $S$ je nový neterminální symbol, který se nenachází v množině $N_1$ (tj. $N_1 \cap \{S\} = \emptyset$), jej přidáme k množině $N_1$.
    2.  **$\Sigma = \Sigma_1$**
    3.  **$P = P_1 \cup \{S \to S_1 S \mid \varepsilon\}$**