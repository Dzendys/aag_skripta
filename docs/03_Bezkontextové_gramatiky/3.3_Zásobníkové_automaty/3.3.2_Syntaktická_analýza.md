# 3.3.2 Syntaktická analýza

<a id="def-derivace-bg"></a>
!!! Definition "Definice (Levá a pravá derivace)"

    ### Levá a pravá derivace {#def-derivace-bg}

    *   **Levá derivace** v bezkontextové gramatice je taková derivace, která v každém kroku nahrazuje vždy ten **neterminál**, který je v dané větné formě **nejvíce vlevo**.
    *   **Pravá derivace** v bezkontextové gramatice je taková derivace, která v každém kroku nahrazuje vždy ten **neterminál**, který je v dané větné formě **nejvíce vpravo**.

<a id="def-rozklad-bg"></a>
!!! Definition "Definice (Levý a pravý rozklad)"

    ### Levý a pravý rozklad {#def-rozklad-bg}

    Předpokládáme, že pravidla v gramatice jsou očíslována.

    *   **Levý rozklad** věty $w$ je **posloupnost čísel pravidel** použitých v **levé derivaci**.
    *   **Pravý rozklad** věty $w$ je **obrácená posloupnost čísel pravidel** použitých v **pravé derivaci**.

### Metody syntaktické analýzy

**Syntaktická analýza** je proces, který pro danou bezkontextovou gramatiku $G$ a řetězec $w$ určí, zdali $w \in L(G)$. V kladném případě též získáme syntaktickou strukturu řetězce.

*   **Shora dolů (top-down):** Nalezne případný **levý rozklad** dané věty.
*   **Zdola nahoru (bottom-up):** Nalezne případný **pravý rozklad** dané věty.

<a id="algo-top-down"></a>
!!! Algorithm "Konstrukce analyzátoru metodou shora dolů"

    ### Metoda shora dolů (Top-down) {#algo-top-down}

    Pro danou bezkontextovou gramatiku $G = (N, \Sigma, P, S)$ vytvoříme zásobníkový automat $R = (\{q\}, \Sigma, N \cup \Sigma, \delta, q, S, \emptyset)$.
    
    *   **Vrchol zásobníku:** vlevo.
    *   **Přijetí:** prázdným zásobníkem.
    *   **Operace:**
        1.  **Expanze:** Pro každé pravidlo $(A \to \alpha) \in P$ přidáme přechod $\delta(q, \varepsilon, A) = \{(q, \alpha)\}$. (Neterminál na zásobníku nahradíme pravou stranou pravidla).
        2.  **Srovnání:** Pro každý terminál $a \in \Sigma$ přidáme přechod $\delta(q, a, a) = \{(q, \varepsilon)\}$. (Terminál na vstupu se musí shodovat s terminálem na zásobníku).

    ![Metoda shora dolů](../../assets/03/shora_dolu_white.png#only-dark)
    ![Metoda shora dolů](../../assets/03/shora_dolu_black.png#only-light)

<a id="algo-bottom-up"></a>
!!! Algorithm "Konstrukce analyzátoru metodou zdola nahoru"

    ### Metoda zdola nahoru (Bottom-up) {#algo-bottom-up}

    Pro danou bezkontextovou gramatiku $G = (N, \Sigma, P, S)$ vytvoříme zásobníkový automat $R = (\{q, r\}, \Sigma, N \cup \Sigma \cup \{Z_0\}, \delta, q, Z_0, \{r\})$.

    *   **Vrchol zásobníku:** vpravo (v kontextu zápisu na pásku, čteme "konec" zásobníku).
    *   **Přijetí:** přechodem do koncového stavu.
    *   **Operace:**
        1.  **Přesun (Shift):** Pro každé $a \in \Sigma$ máme přechod $\delta(q, a, \varepsilon) = \{(q, a)\}$. (Načtení symbolu ze vstupu na zásobník).
        2.  **Redukce:** Pro každé pravidlo $(A \to \alpha) \in P$ máme přechod $\delta(q, \varepsilon, \alpha) = \{(q, A)\}$. (Řetězec $\alpha$ na vrcholu zásobníku nahradíme neterminálem $A$).
        3.  **Přijetí:** $\delta(q, \varepsilon, S Z_0) = \{(r, \varepsilon)\}$. (Pokud na zásobníku zbyde jen počáteční neterminál a dno zásobníku, přijmeme).
    
    ![Metoda zdola nahoru](../../assets/03/zdola_nahoru_white.png#only-dark)
    ![Metoda zdola nahoru](../../assets/03/zdola_nahoru_black.png#only-light)