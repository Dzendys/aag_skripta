# 5.2 Lineárně omezené Turingovy stroje

### Turingův stroj

**Turingův stroj** (TS) se skládá z **řídící jednotky** (stavy, přechodová funkce), **neomezené pásky** (paměti) rozdělené do buněk a **čtecí hlavy**, která čte a prepisuje jednotlivé symboly na pásce. Čtecí hlava Turingova stroje se na rozdíl od čtecí hlavy konečného automatu může pohybovat **oběma směry**, či posečkat na stejném místě.

<a id="def-ts"></a>
!!! Definition "[Definice (Turingův stroj)](#def-ts)"

    ### Turingův stroj {#def-ts}

    Formálně definujeme Turingův stroj jako uspořádanou sedmici $R = (Q, \Sigma, G, \delta, q_0, B, F)$, kde:

    *   $Q$ je konečná neprázdná množina stavů,
    *   $\Sigma$ je konečná neprázdná vstupní abeceda,
    *   $G$ je konečná neprázdná pracovní abeceda ($\Sigma \subset G$),
    *   $\delta$ je přechodová funkce,
    *   $q_0$ je počáteční stav,
    *   $B \in (G \setminus \Sigma)$ je prázdný symbol (blank),
    *   $F \subseteq Q$ je množina koncových stavů.

    Na začátku výpočtu se Turingův stroj nachází v počátečním stavu $q_0$, páska je vyplněna symboly $B$, na „prvních“ buňkách pásky je zapsán vstup a čtecí hlava ukazuje na první buňku vstupu.

<a id="def-dts"></a>
!!! Definition "[Definice (Deterministický Turingův stroj)](#def-dts)"

    ### Deterministický Turingův stroj {#def-dts}

    **Deterministický Turingův stroj** (DTS) pracuje s následující definicí přechodové funkce $\delta$:

    $$
    \delta : (Q \setminus F) \times G \to Q \times G \times \{-1, 0, 1\}
    $$

    Definice přechodové funkce nám říká, že je-li Turingův stroj v nekoncovém stavu a z pásky čte nějaký symbol z pracovní abecedy, poté přejde do dalšího stavu, na pásku zapíše nějaký symbol a čtecí hlavu posune vlevo ($-1$), vpravo ($1$) nebo zůstane na místě ($0$).

    ![Turingův stroj](../assets/05/turinguv_stroj_white.png#only-dark){ width="75%" }
    ![Turingův stroj](../assets/05/turinguv_stroj_black.png#only-light){ width="75%" }

!!! Warning "Zastavení výpočtu"
    Ocitne-li se Turingův stroj během výpočtu v koncovém stavu, **vždy se zastaví** a výpočet tak dále nepokračuje.
    
    Deterministický Turingův stroj má pro každý stav a symbol na pásce **jasně dáno jak pokračovat** (nemůže si vybrat z více možností). Obdobně jako u konečného automatu i u Turingova stroje se může stát, že pro daný stav a symbol na vstupu nebude výsledek přechodové funkce definován (tj. přechodová funkce je parciální). V takovém případě Turingův stroj skončí s chybou a vstup nepřijme.
    
    Turingův stroj se zastaví právě tehdy, když se dostane do **konfigurace, ze které již neexistuje žádný přechod**, který by mohl provést.

<a id="def-nts"></a>
!!! Definition "[Definice (Nedeterministický Turingův stroj)](#def-nts)"

    ### Nedeterministický Turingův stroj {#def-nts}

    **Nedeterministický Turingův stroj** (NTS) pracuje s následující definicí přechodové funkce $\delta$:

    $$
    \delta : (Q \setminus F) \times G \to \mathcal{P}(Q \times G \times \{-1, 0, 1\})
    $$

    Nedeterministický Turingův stroj si na rozdíl od deterministického Turingova stroje může v určité fázi výpočtu vybrat jak pokračovat.

### Znázornění Turingova stroje

Znázornění Turingova stroje se liší zápisem přechodové funkce $\delta$:

*   **Formální zápis (DTS):**

$$\delta(S, a) = (A, c, 1)$$

*(ze stavu $S$ na symbol $a$ na pásce jdeme do stavu $A$, na pásku zapíšeme symbol $c$ a posuneme se o jednu pozici doprava)*.

*   **Ohodnocený orientovaný graf:** Vrcholy grafu reprezentují stavy. Přechodovou funkci znázorňujeme orientovanými hranami mezi stavy a ohodnocujeme je čtenými symboly, symboly k zápisu a pohybem hlavy.

    ![Stavový diagram](../assets/05/stavovy_diagram_white.png#only-dark){ width="50%" }
    ![Stavový diagram](../assets/05/stavovy_diagram_black.png#only-light){ width="50%" }

<a id="def-lba"></a>
!!! Definition "[Definice (Lineárně omezený Turingův stroj)](#def-lba)"

    ### Lineárně omezený Turingův stroj {#def-lba}

    **Lineárně omezený Turingův stroj** (LBA - Linear Bounded Automaton) je Turingův stroj, který nesmí při výpočtu používat neomezeně mnoho buněk na pásce.
    
    Mějme TS $R = (Q, \Sigma, G, \delta, q_0, B, F)$, pak existuje nějaké $k \ge 1$ takové, že $\forall w \in \Sigma^*$, které $R$ dostane na vstupu, může $R$ použít jen $k \cdot |w|$ buněk na pásce.

<a id="note-prijeti-ts"></a>
!!! Implication "[Kdy Turingův stroj (ne)přijme vstupní řetězec?](#note-prijeti-ts)"

    !!! Warning "Změna v definici přijímání"
        U Turingova stroje **nezáleží na obsahu pásky** v okamžiku zastavení. Pro přijetí slova stačí, aby se stroj zastavil v **koncovém stavu** (na rozdíl od některých starších definic nebo zásobníkových automatů, kde se často vyžaduje i prázdná paměť/páska).

    **Deterministický Turingův stroj (DTS):**
    
    *   **Přijme:** Přejde do koncového stavu ($q \in F$).
    *   **Nepřijme:**
        *   Dojde k chybě (nedefinovaná přechodová funkce pro nekoncový stav).
        *   Výpočet neskončí (TS se zacyklí).
        *   Zastaví se v nekoncovém stavu.

    **Nedeterministický Turingův stroj (NTS):**
    
    *   **Přijme:** Existuje alespoň jedna posloupnost přechodů, kdy TS přejde do koncového stavu ($q \in F$).
    *   **Nepřijme:** Neexistuje posloupnost přechodů vedoucí k přijetí (všechny větve skončí chybou, zacyklením nebo zastavením v nekoncovém stavu).